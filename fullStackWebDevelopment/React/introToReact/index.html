<!DOCTYPE html>
<html>
<head> 
  <meta charset="utf-8" />
  <title> Testing React </title>    
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.2/react.min.js"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.0.2/react-dom.min.js"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>        
</head>
<body>
  <div id="main"></div>
  
  <script type="text/babel">
    
  // create a React component 
  var Counter = React.createClass ({
    // "this.props" object comes fromt he component in ReacDOM.render function.
    getInitialState: function() {
      return {
        count: 0,
        threshold: this.props.threshold
      };
    },
    // This function will update the counter.
    updateCounter: function() {
      this.setState({ count: this.state.count + 1});
      if (this.state.count === this.state.threshold) {
        alert('You passed the threshold!');
        this.setState({ threshold: this.state.threshold + 5});
      }
    },
    // Reset the counter variable.
    resetCounter: function() {
      this.setState(this.getInitialState());
    },
    // Render function returns elements inserted into the DOM with corresponding data.
    render: function() {
      return (
        <div>
          <button onClick={this.updateCounter}> Click button! </button>
          <p>Number of clicks: {this.state.count} </p>
          <p> The threshold set to #: {this.state.threshold} </p>
          <button onClick={this.resetCounter}> Reset Counter </button>
        </div>
        );
      }   

  });
        

  // render a React component in the DOM
  // first parameter is the component
  // second parameter is the DOM element we're inserting it into

  ReactDOM.render(
    <Counter threshold={5} />,
    document.getElementById('main')
    );


  </script>

</body>  
</html>